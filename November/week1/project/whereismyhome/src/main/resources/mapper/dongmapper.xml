<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.ssafy.dong.model.mapper.DongMapper">

	<resultMap type="Dong" id="dongs">
		<result column="dongCode" property="dongCode"/>
		<result column="sidoName" property="sidoName"/>
		<result column="gugunName" property="gugunName"/>
		<result column="dongName" property="dongName"/>	
	</resultMap>

	<select id="getSidoNames" resultType="String">
		select sidoName from dongcode 
		where gugunName is null
	</select>
	
 	<select id="getGugunNames" parameterType="String" resultType="String">
		select gugunName from dongcode 
		where sidoName = #{sidoName} and gugunName is not null 
		 and dongName is null
	</select>
	
	<select id="getDongNames" parameterType="map" resultMap="dongs">
		select dongCode, dongName from dongcode 
		where sidoName =#{sidoName} and gugunName=#{gugunName} and dongName is not null
	</select>
	
	
	<select id="selectdong" parameterType="String" resultMap="dongs">
		select dongCode,sidoName,gugunName,dongName from dongcode 
		where dongCode =#{dongCode}
	</select>

	
</mapper>

